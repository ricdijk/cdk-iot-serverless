"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.mergeParams = void 0;
function mergeParams(params) {
    const defaultParam = {
        delimiter: ',',
        ignoreColumns: undefined,
        includeColumns: undefined,
        quote: '"',
        trim: true,
        checkType: false,
        ignoreEmpty: false,
        // fork: false,
        noheader: false,
        headers: undefined,
        flatKeys: false,
        maxRowLength: 0,
        checkColumn: false,
        escape: '"',
        colParser: {},
        eol: undefined,
        alwaysSplitAtEOL: false,
        output: "json",
        nullObject: false,
        downstreamFormat: "line",
        needEmitAll: true
    };
    if (!params) {
        params = {};
    }
    for (let key in params) {
        if (params.hasOwnProperty(key)) {
            if (Array.isArray(params[key])) {
                defaultParam[key] = [].concat(params[key]);
            }
            else {
                defaultParam[key] = params[key];
            }
        }
    }
    return defaultParam;
}
exports.mergeParams = mergeParams;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGFyYW1ldGVycy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIlBhcmFtZXRlcnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBaUdBLFNBQWdCLFdBQVcsQ0FBQyxNQUErQjtJQUN6RCxNQUFNLFlBQVksR0FBa0I7UUFDbEMsU0FBUyxFQUFFLEdBQUc7UUFDZCxhQUFhLEVBQUUsU0FBUztRQUN4QixjQUFjLEVBQUUsU0FBUztRQUN6QixLQUFLLEVBQUUsR0FBRztRQUNWLElBQUksRUFBRSxJQUFJO1FBQ1YsU0FBUyxFQUFFLEtBQUs7UUFDaEIsV0FBVyxFQUFFLEtBQUs7UUFDbEIsZUFBZTtRQUNmLFFBQVEsRUFBRSxLQUFLO1FBQ2YsT0FBTyxFQUFFLFNBQVM7UUFDbEIsUUFBUSxFQUFFLEtBQUs7UUFDZixZQUFZLEVBQUUsQ0FBQztRQUNmLFdBQVcsRUFBRSxLQUFLO1FBQ2xCLE1BQU0sRUFBRSxHQUFHO1FBQ1gsU0FBUyxFQUFFLEVBQUU7UUFDYixHQUFHLEVBQUUsU0FBUztRQUNkLGdCQUFnQixFQUFFLEtBQUs7UUFDdkIsTUFBTSxFQUFFLE1BQU07UUFDZCxVQUFVLEVBQUUsS0FBSztRQUNqQixnQkFBZ0IsRUFBQyxNQUFNO1FBQ3ZCLFdBQVcsRUFBQyxJQUFJO0tBQ2pCLENBQUE7SUFDRCxJQUFJLENBQUMsTUFBTSxFQUFFO1FBQ1gsTUFBTSxHQUFHLEVBQUUsQ0FBQztLQUNiO0lBQ0QsS0FBSyxJQUFJLEdBQUcsSUFBSSxNQUFNLEVBQUU7UUFDdEIsSUFBSSxNQUFNLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxFQUFFO1lBQzlCLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRTtnQkFDOUIsWUFBWSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7YUFDNUM7aUJBQU07Z0JBQ0wsWUFBWSxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUNqQztTQUNGO0tBQ0Y7SUFDRCxPQUFPLFlBQVksQ0FBQztBQUN0QixDQUFDO0FBckNELGtDQXFDQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBpbnRlcmZhY2UgQ1NWUGFyc2VQYXJhbSB7XG4gIC8qKlxuICAgKiAgIGRlbGltaXRlciB1c2VkIGZvciBzZXBlcmF0aW5nIGNvbHVtbnMuIFVzZSBcImF1dG9cIiBpZiBkZWxpbWl0ZXIgaXMgdW5rbm93biBpbiBhZHZhbmNlLCBpbiB0aGlzIGNhc2UsIGRlbGltaXRlciB3aWxsIGJlIGF1dG8tZGV0ZWN0ZWQgKGJ5IGJlc3QgYXR0ZW1wdCkuIFVzZSBhbiBhcnJheSB0byBnaXZlIGEgbGlzdCBvZiBwb3RlbnRpYWwgZGVsaW1pdGVycyBlLmcuIFtcIixcIixcInxcIixcIiRcIl0uIGRlZmF1bHQ6IFwiLFwiXG4gICAqL1xuICBkZWxpbWl0ZXI6IHN0cmluZyB8IHN0cmluZ1tdO1xuICAvKipcbiAgICogIFRoaXMgcGFyYW1ldGVyIGluc3RydWN0cyB0aGUgcGFyc2VyIHRvIGlnbm9yZSBjb2x1bW5zIGFzIHNwZWNpZmllZCBieSB0aGUgcmVndWxhciBleHByZXNzaW9uLiBFeGFtcGxlOiAvKG5hbWV8YWdlKS8gd2lsbCBpZ25vcmUgY29sdW1ucyB3aG9zZSBoZWFkZXIgY29udGFpbnMgXCJuYW1lXCIgb3IgXCJhZ2VcIlxuICAgKi9cbiAgaWdub3JlQ29sdW1ucz86IFJlZ0V4cDtcbiAgLyoqXG4gICAqICBUaGlzIHBhcmFtZXRlciBpbnN0cnVjdHMgdGhlIHBhcnNlciB0byBpbmNsdWRlIG9ubHkgdGhvc2UgY29sdW1ucyBhcyBzcGVjaWZpZWQgYnkgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbi4gRXhhbXBsZTogLyhuYW1lfGFnZSkvIHdpbGwgcGFyc2UgYW5kIGluY2x1ZGUgY29sdW1ucyB3aG9zZSBoZWFkZXIgY29udGFpbnMgXCJuYW1lXCIgb3IgXCJhZ2VcIlxuICAgKi9cbiAgaW5jbHVkZUNvbHVtbnM/OiBSZWdFeHA7XG4gIC8qKlxuICAgKiAgSWYgYSBjb2x1bW4gY29udGFpbnMgZGVsaW1pdGVyLCBpdCBpcyBhYmxlIHRvIHVzZSBxdW90ZSBjaGFyYWN0ZXIgdG8gc3Vycm91bmQgdGhlIGNvbHVtbiBjb250ZW50LiBlLmcuIFwiaGVsbG8sIHdvcmxkXCIgd29udCBiZSBzcGxpdCBpbnRvIHR3byBjb2x1bW5zIHdoaWxlIHBhcnNpbmcuIFNldCB0byBcIm9mZlwiIHdpbGwgaWdub3JlIGFsbCBxdW90ZXMuIGRlZmF1bHQ6IFwiIChkb3VibGUgcXVvdGUpXG4gICAqL1xuICBxdW90ZTogc3RyaW5nO1xuICAvKipcbiAgICogIEluZGljYXRlIGlmIHBhcnNlciB0cmltIG9mZiBzcGFjZXMgc3Vycm91bmRpbmcgY29sdW1uIGNvbnRlbnQuIGUuZy4gXCIgY29udGVudCBcIiB3aWxsIGJlIHRyaW1tZWQgdG8gXCJjb250ZW50XCIuIERlZmF1bHQ6IHRydWVcbiAgICovXG4gIHRyaW06IGJvb2xlYW47XG4gIC8qKlxuICAgKiAgVGhpcyBwYXJhbWV0ZXIgdHVybnMgb24gYW5kIG9mZiB3aGV0aGVyIGNoZWNrIGZpZWxkIHR5cGUuIERlZmF1bHQgaXMgZmFsc2UuIFxuICAgKi9cbiAgY2hlY2tUeXBlOiBib29sZWFuO1xuICAvKipcbiAgICogIElnbm9yZSB0aGUgZW1wdHkgdmFsdWUgaW4gQ1NWIGNvbHVtbnMuIElmIGEgY29sdW1uIHZhbHVlIGlzIG5vdCBnaXZlbiwgc2V0IHRoaXMgdG8gdHJ1ZSB0byBza2lwIHRoZW0uIERlZmF1bHQ6IGZhbHNlLlxuICAgKi9cbiAgaWdub3JlRW1wdHk6IGJvb2xlYW47XG4gIC8qKlxuICAgKiAgRGVsZWdhdGUgcGFyc2luZyB3b3JrIHRvIGFub3RoZXIgcHJvY2Vzcy5cbiAgICovXG4gIC8vIGZvcms6IGJvb2xlYW47XG4gIC8qKlxuICAgKiAgSW5kaWNhdGluZyBjc3YgZGF0YSBoYXMgbm8gaGVhZGVyIHJvdyBhbmQgZmlyc3Qgcm93IGlzIGRhdGEgcm93LiBEZWZhdWx0IGlzIGZhbHNlLlxuICAgKi9cbiAgbm9oZWFkZXI6IGJvb2xlYW47XG4gIC8qKlxuICAgKiAgQW4gYXJyYXkgdG8gc3BlY2lmeSB0aGUgaGVhZGVycyBvZiBDU1YgZGF0YS4gSWYgLS1ub2hlYWRlciBpcyBmYWxzZSwgdGhpcyB2YWx1ZSB3aWxsIG92ZXJyaWRlIENTViBoZWFkZXIgcm93LiBEZWZhdWx0OiBudWxsLiBFeGFtcGxlOiBbXCJteSBmaWVsZFwiLFwibmFtZVwiXS5cbiAgICovXG4gIGhlYWRlcnM/OiBzdHJpbmdbXTtcbiAgLyoqXG4gICAqICBEb24ndCBpbnRlcnByZXQgZG90cyAoLikgYW5kIHNxdWFyZSBicmFja2V0cyBpbiBoZWFkZXIgZmllbGRzIGFzIG5lc3RlZCBvYmplY3Qgb3IgYXJyYXkgaWRlbnRpZmllcnMgYXQgYWxsICh0cmVhdCB0aGVtIGxpa2UgcmVndWxhciBjaGFyYWN0ZXJzIGZvciBKU09OIGZpZWxkIGlkZW50aWZpZXJzKS4gRGVmYXVsdDogZmFsc2UuXG4gICAqL1xuICBmbGF0S2V5czogYm9vbGVhbjtcbiAgLyoqXG4gICAqICB0aGUgbWF4IGNoYXJhY3RlciBhIGNzdiByb3cgY291bGQgaGF2ZS4gMCBtZWFucyBpbmZpbml0ZS4gSWYgbWF4IG51bWJlciBleGNlZWRlZCwgcGFyc2VyIHdpbGwgZW1pdCBcImVycm9yXCIgb2YgXCJyb3dfZXhjZWVkXCIuIGlmIGEgcG9zc2libHkgY29ycnVwdGVkIGNzdiBkYXRhIHByb3ZpZGVkLCBnaXZlIGl0IGEgbnVtYmVyIGxpa2UgNjU1MzUgc28gdGhlIHBhcnNlciB3b250IGNvbnN1bWUgbWVtb3J5LiBkZWZhdWx0OiAwXG4gICAqL1xuICBtYXhSb3dMZW5ndGg6IG51bWJlcjtcbiAgLyoqXG4gICAqICB3aGV0aGVyIGNoZWNrIGNvbHVtbiBudW1iZXIgb2YgYSByb3cgaXMgdGhlIHNhbWUgYXMgaGVhZGVycy4gSWYgY29sdW1uIG51bWJlciBtaXNtYXRjaGVkIGhlYWRlcnMgbnVtYmVyLCBhbiBlcnJvciBvZiBcIm1pc21hdGNoZWRfY29sdW1uXCIgd2lsbCBiZSBlbWl0dGVkLi4gZGVmYXVsdDogZmFsc2VcbiAgICovXG4gIGNoZWNrQ29sdW1uOiBib29sZWFuO1xuICAvKipcbiAgICogIGVzY2FwZSBjaGFyYWN0ZXIgdXNlZCBpbiBxdW90ZWQgY29sdW1uLiBEZWZhdWx0IGlzIGRvdWJsZSBxdW90ZSAoXCIpIGFjY29yZGluZyB0byBSRkM0MTA4LiBDaGFuZ2UgdG8gYmFjayBzbGFzaCAoXFwpIG9yIG90aGVyIGNoYXJzIGZvciB5b3VyIG93biBjYXNlLlxuICAgKi9cbiAgZXNjYXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiAgIEFsbG93cyBvdmVycmlkZSBwYXJzaW5nIGxvZ2ljIGZvciBhIHNwZWNpZmljIGNvbHVtbi4gSXQgYWNjZXB0cyBhIEpTT04gb2JqZWN0IHdpdGggZmllbGRzIGxpa2U6IGhlYWROYW1lOiA8U3RyaW5nIHwgRnVuY3Rpb24+IC4gZS5nLiB7ZmllbGQxOidudW1iZXInfSB3aWxsIHVzZSBidWlsdC1pbiBudW1iZXIgcGFyc2VyIHRvIGNvbnZlcnQgdmFsdWUgb2YgdGhlIGZpZWxkMSBjb2x1bW4gdG8gbnVtYmVyLiBBbm90aGVyIGV4YW1wbGUge1wibmFtZVwiOm5hbWVQcm9jZXNzRnVuY30gd2lsbCB1c2Ugc3BlY2lmaWVkIGZ1bmN0aW9uIHRvIHBhcnNlIHRoZSB2YWx1ZS5cbiAgICovXG4gIGNvbFBhcnNlcjoge1xuICAgIFtrZXk6IHN0cmluZ106IHN0cmluZyB8IENlbGxQYXJzZXIgfCBDb2x1bW5QYXJhbVxuICB9O1xuICAvKipcbiAgICogIEVuZCBvZiBsaW5lIGNoYXJhY3Rlci4gSWYgb21pdHRlZCwgcGFyc2VyIHdpbGwgYXR0ZW1wdCB0byByZXRyaWV2ZSBpdCBmcm9tIHRoZSBmaXJzdCBjaHVua3Mgb2YgQ1NWIGRhdGFcbiAgICovXG4gIGVvbD86IHN0cmluZztcbiAgLyoqXG4gICAqICBBbHdheXMgaW50ZXJwcmV0IGVhY2ggbGluZSAoYXMgZGVmaW5lZCBieSBlb2wpIGFzIGEgcm93LiBUaGlzIHdpbGwgcHJldmVudCBlb2wgY2hhcmFjdGVycyBmcm9tIGJlaW5nIHVzZWQgd2l0aGluIGEgcm93IChldmVuIGluc2lkZSBhIHF1b3RlZCBmaWVsZCkuIERlZmF1bHQgaXMgZmFsc2UuIENoYW5nZSB0byB0cnVlIGlmIHlvdSBhcmUgY29uZmlkZW50IG5vIGlubGluZSBsaW5lIGJyZWFrcyAobGlrZSBsaW5lIGJyZWFrIGluIGEgY2VsbCB3aGljaCBoYXMgbXVsdGkgbGluZSB0ZXh0KVxuICAgKi9cbiAgYWx3YXlzU3BsaXRBdEVPTDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFRoZSBmb3JtYXQgdG8gYmUgY29udmVydGVkIHRvLiBcImpzb25cIiAoZGVmYXVsdCkgLS0gY29udmVydCBjc3YgdG8ganNvbi4gXCJjc3ZcIiAtLSBjb252ZXJ0IGNzdiB0byBjc3Ygcm93IGFycmF5LiBcImxpbmVcIiAtLSBjb252ZXJ0IGNzdiB0byBjc3YgbGluZSBzdHJpbmcgXG4gICAqL1xuICBvdXRwdXQ6IFwianNvblwiIHwgXCJjc3ZcIiB8IFwibGluZVwiO1xuXG4gIC8qKlxuICAgKiBDb252ZXJ0IHN0cmluZyBcIm51bGxcIiB0byBudWxsIG9iamVjdCBpbiBKU09OIG91dHB1dHMuIERlZmF1bHQgaXMgZmFsc2UuXG4gICAqL1xuICBudWxsT2JqZWN0OmJvb2xlYW47XG4gIC8qKlxuICAgKiBEZWZpbmUgdGhlIGZvcm1hdCByZXF1aXJlZCBieSBkb3duc3RyZWFtICh0aGlzIHBhcmFtZXRlciBkb2VzIG5vdCB3b3JrIGlmIG9iamVjdE1vZGUgaXMgb24pLiBgbGluZWAgLS0ganNvbiBpcyBlbWl0dGVkIGluIGEgc2luZ2xlIGxpbmUgc2VwYXJhdGVkIGJ5IGEgbGluZSBicmVha2UgbGlrZSBcImpzb24xXFxuanNvbjJcIiAuIGBhcnJheWAgLS0gZG93bnN0cmVhbSByZXF1aXJlcyBhcnJheSBmb3JtYXQgbGlrZSBcIltqc29uMSxqc29uMl1cIi4gRGVmYXVsdCBpcyBsaW5lLlxuICAgKi9cbiAgZG93bnN0cmVhbUZvcm1hdDogXCJsaW5lXCIgfCBcImFycmF5XCI7XG4gIC8qKlxuICAgKiBEZWZpbmUgd2hldGhlciAudGhlbihjYWxsYmFjaykgcmV0dXJucyBhbGwgSlNPTiBkYXRhIGluIGl0cyBjYWxsYmFjay4gRGVmYXVsdCBpcyB0cnVlLiBDaGFuZ2UgdG8gZmFsc2UgdG8gc2F2ZSBtZW1vcnkgaWYgc3Vic2NyaWJpbmcganNvbiBsaW5lcy5cbiAgICovXG4gIG5lZWRFbWl0QWxsOiBib29sZWFuO1xufVxuXG5leHBvcnQgdHlwZSBDZWxsUGFyc2VyID0gKGl0ZW06IHN0cmluZywgaGVhZDogc3RyaW5nLCByZXN1bHRSb3c6IGFueSwgcm93OiBzdHJpbmdbXSwgY29sdW1uSW5kZXg6IG51bWJlcikgPT4gYW55O1xuXG5leHBvcnQgaW50ZXJmYWNlIENvbHVtblBhcmFtIHtcbiAgZmxhdD86IGJvb2xlYW47XG4gIGNlbGxQYXJzZXI/OiBzdHJpbmcgfCBDZWxsUGFyc2VyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VQYXJhbXMocGFyYW1zPzogUGFydGlhbDxDU1ZQYXJzZVBhcmFtPik6IENTVlBhcnNlUGFyYW0ge1xuICBjb25zdCBkZWZhdWx0UGFyYW06IENTVlBhcnNlUGFyYW0gPSB7XG4gICAgZGVsaW1pdGVyOiAnLCcsXG4gICAgaWdub3JlQ29sdW1uczogdW5kZWZpbmVkLFxuICAgIGluY2x1ZGVDb2x1bW5zOiB1bmRlZmluZWQsXG4gICAgcXVvdGU6ICdcIicsXG4gICAgdHJpbTogdHJ1ZSxcbiAgICBjaGVja1R5cGU6IGZhbHNlLFxuICAgIGlnbm9yZUVtcHR5OiBmYWxzZSxcbiAgICAvLyBmb3JrOiBmYWxzZSxcbiAgICBub2hlYWRlcjogZmFsc2UsXG4gICAgaGVhZGVyczogdW5kZWZpbmVkLFxuICAgIGZsYXRLZXlzOiBmYWxzZSxcbiAgICBtYXhSb3dMZW5ndGg6IDAsXG4gICAgY2hlY2tDb2x1bW46IGZhbHNlLFxuICAgIGVzY2FwZTogJ1wiJyxcbiAgICBjb2xQYXJzZXI6IHt9LFxuICAgIGVvbDogdW5kZWZpbmVkLFxuICAgIGFsd2F5c1NwbGl0QXRFT0w6IGZhbHNlLFxuICAgIG91dHB1dDogXCJqc29uXCIsXG4gICAgbnVsbE9iamVjdDogZmFsc2UsXG4gICAgZG93bnN0cmVhbUZvcm1hdDpcImxpbmVcIixcbiAgICBuZWVkRW1pdEFsbDp0cnVlXG4gIH1cbiAgaWYgKCFwYXJhbXMpIHtcbiAgICBwYXJhbXMgPSB7fTtcbiAgfVxuICBmb3IgKGxldCBrZXkgaW4gcGFyYW1zKSB7XG4gICAgaWYgKHBhcmFtcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJhbXNba2V5XSkpIHtcbiAgICAgICAgZGVmYXVsdFBhcmFtW2tleV0gPSBbXS5jb25jYXQocGFyYW1zW2tleV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVmYXVsdFBhcmFtW2tleV0gPSBwYXJhbXNba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRlZmF1bHRQYXJhbTtcbn1cblxuIl19